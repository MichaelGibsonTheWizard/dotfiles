function tcf(a){if(a.D)return a.D;a.D=[];var b=cRb(a);a.D=Wa(b,function(b){var c=DMd(a,b);if(U(c,12))return new jX(null,ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(U(c,12)));b=a.R.jd(VB.Ca(),ritz_api.RitzModelApi.getWorkbookRangeById(b,!1));return new jX(BD(b),null)});return a.D}function ucf(a,b,c){return Av(Ev(Cv(yv(a).Fg),Cv(yv(b).Fg),c))}function vcf(a){var b=a.C.cloneNode(!1);a.qa().Is(b,a.C);return b}
function wcf(a,b){var c=b.getContext("2d"),d=kO(a.D),e=a.D.$b(),f=OP(a.D),h=PP(a.D);e=e?d.width-f:0;var k=d.height-h;b.width=a.C.width;b.height=a.C.height;qcc(a.C,c,0,0,0,0,d.width,h);qcc(a.C,c,e,h,e,h,f,k)}function xcf(a,b,c){rK.call(this,131);this.D=a;this.J=b;this.C=c}v(xcf,rK);xcf.prototype.Qd=function(){var a=new jLb;V(a,1,this.D);V(a,4,this.C);var b=nPd(this.J);V(a,3,b);return a};function ycf(a,b){rK.call(this,40);this.C=b}y(ycf,rK);ycf.prototype.W1=function(){OG.yb()};ycf.prototype.Qd=function(){var a=new zJb;V(a,1,this.C);return a};ycf.prototype.Ug=Dc;ycf.prototype.Ej=m("Filter view deleted");function zcf(a,b){rK.call(this,132);this.C=a;this.D=b}v(zcf,rK);zcf.prototype.Qd=function(){var a=new lLb;V(a,1,this.C);V(a,2,this.D);return a};zcf.prototype.Ug=m(!1);function Acf(a,b,c){rK.call(this,41);this.C=b;this.D=c}y(Acf,rK);Acf.prototype.Qd=function(){var a=new BJb;V(a,1,this.C);V(a,2,this.D);return a};Acf.prototype.Ug=Dc;Acf.prototype.Ej=m("Filter view duplicated");function Bcf(a,b,c){rK.call(this,43);this.D=b;this.C=c}y(Bcf,rK);Bcf.prototype.Qd=function(){var a=new NJ;V(a,1,this.D);a.Pd(this.C);return a};Bcf.prototype.Ug=Dc;Bcf.prototype.Ej=function(){return"Filter view renamed to "+this.C};function Ccf(a,b,c,d){rK.call(this,70);this.O=a.wc();this.D=b;this.J=c;this.C=d}y(Ccf,rK);Ccf.prototype.Qd=function(){var a=new eKb;V(a,1,this.O);V(a,4,this.D);var b=nPd(this.J);V(a,3,b);return a};Ccf.prototype.Ej=function(){return"Filter range updated to "+(this.C+".")};function Dcf(a,b,c){b=c||b;var d=a.ZHb;a=Q;c='<div class="'+R("waffle-filter-bar-rangepill")+" "+R("goog-inline-block")+'" tabindex="0"><span class="'+R("waffle-filter-bar-rangepill-range")+" "+R("goog-inline-block")+'"></span>';d=d={enabled:"true",Mf:"waffle-filter-bar-rangepill-close",hidden:d};b=Q(Xu(Ft({$K:"docs-icon-close-thin"},d),b));return a(c+P(b)+"</div>")};function Ecf(a,b,c,d,e){O.call(this,e);this.F=a;this.H=c;this.C=b;this.D=d}v(Ecf,O);Ecf.prototype.Da=function(){this.ob(zt(Dcf,{ZHb:this.D}));this.qa().ze(this.Ka("waffle-filter-bar-rangepill-range"),Fcf(this))};Ecf.prototype.Ja=function(){O.prototype.Ja.call(this);this.getHandler().qg(this.Pa(),Ne,this.L);if(!this.D){var a=new Ts("",new Rs,this.qa());this.Ia(a);var b=this.Ka("waffle-filter-bar-rangepill-close");a.Xa(b);Im(b,"Remove",void 0);this.getHandler().V(a,"action",this.J)}};
Ecf.prototype.L=function(a){a.target!=this.Ka("waffle-filter-bar-rangepill-close")&&this.dispatchEvent(new De("rh",this))};Ecf.prototype.J=function(a){this.dispatchEvent(new De("sh",this));a.stopPropagation()};function Fcf(a){return oNd(a.H,a.C)?pNd(a.H,a.C,!1):"#REF"};function Gcf(){var a='<div class="'+R("waffle-filter-bar-range-section")+'"><span id="waffle-filter-bar-range-label" class="'+R("waffle-filter-bar-header")+" "+R("waffle-filter-bar-range-label")+" "+R("goog-inline-block")+'">';a=a+"Ranges:"+('</span><div class="'+R("waffle-filter-bar-range-filter-pills-container")+" "+R("goog-inline-block")+'"></div><div class="'+R("waffle-filter-bar-add-range-filter-button")+" "+R("goog-inline-block")+'">');a=a+"Add new range"+('</div><input class="'+R("jfk-textinput")+
" "+R("waffle-filter-bar-range-pill-input")+'" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/></div>');return Q(a)};function Hcf(a,b,c,d){O.call(this,d);this.J=a;this.O=b;this.R=c;this.L=new O;this.Ia(this.L);this.H=new Ts(void 0,$u.getInstance(),d);this.Ia(this.H);this.F=new uw(void 0,d);this.Ia(this.F);this.C="waffle-filter-bar-range-filter-pill-view";this.D=null;this.ea=!1}v(Hcf,O);n=Hcf.prototype;
n.Da=function(){this.ob(zt(Gcf));this.L.Xa(this.Ka("waffle-filter-bar-range-filter-pills-container"));this.H.Xa(this.Ka("waffle-filter-bar-add-range-filter-button"));this.H.Qa(!0);var a=this.Ka("waffle-filter-bar-range-pill-input");this.F.Xa(a)};n.Ja=function(){O.prototype.Ja.call(this);var a=new fo,b=this.F.Pa();go(a,b);b=new cu(b);this.getHandler().V(this.L,"rh",this.kpb).V(this.L,"sh",this.Nnb).V(a,"key",this.ZLb).V(b,"focusin",this.XLb).V(b,"focusout",this.YLb).V(this.H,"action",this.cjb)};
n.Gc=function(){var a=this;this.L.Cd(!0);Ta(Icf(this),function(b){a.L.Ia(b,!0);"waffle-filter-bar-range-filter-pill-edit"==a.C&&b.C.equals(a.D.C)&&(a.D=b,Jcf(a,a.D.Pa()))})};n.kpb=function(a){"waffle-filter-bar-range-filter-pill-view"!=this.C&&Kcf(this);this.D=a.target;this.F.setValue(Fcf(this.D));Jcf(this,this.D.Pa());this.C="waffle-filter-bar-range-filter-pill-edit"};
n.Nnb=function(a){var b=BK(this.J)?this.J.getActiveGrid().Dc().Of:null;if(b&&(b=tL(b))){a=a.target;var c={};kAb.yb((c["filter-view-id"]=b,c["range-filter-id"]=a.F,c))}};n.cjb=function(){"waffle-filter-bar-range-filter-pill-view"!=this.C&&Kcf(this);var a=this.J.getActiveGrid().Dc().Jc();this.F.setValue(uM(a));Jcf(this,this.H.Pa());this.C="waffle-filter-bar-range-section-mode-add"};
function Jcf(a,b){var c=a.F.Pa();Pl(c,Rl(b).width);a.qa().Is(c,b);N(b,!1);N(c,!0);b=new wm(function(){return xw(a.F)});a.Aa(b);b.start()}function Kcf(a){"waffle-filter-bar-range-filter-pill-view"!=a.C&&(N("waffle-filter-bar-range-filter-pill-edit"==a.C?a.D.Pa():a.H.Pa(),!0),N(a.F.Pa(),!1),a.C="waffle-filter-bar-range-filter-pill-view",a.D=null)}n.ZLb=function(a){13==a.keyCode?(Lcf(this),Kcf(this),this.O.xb(3)):27==a.keyCode&&(Kcf(this),this.Gc(),this.O.xb(3));a.stopPropagation()};
n.YLb=function(){this.getParent().getVisible()&&(Lcf(this),Kcf(this))};n.XLb=function(){this.O.xb(2)};function Icf(a){var b=BK(a.J)?a.J.getActiveGrid().Dc().Of:null;if(!b||!tL(b))return[];var c=cRb(b),d=1==c.length;return Wa(tcf(b),function(b,f){return new Ecf(c[f++],b,a.R,d)})}
function Lcf(a){if(!a.ea){var b=Hb(a.F.getValue());if((b=rNd(a.R,b))&&oNd(a.R,b)){a.ea=!0;if("waffle-filter-bar-range-section-mode-add"==a.C){var c=tL(QM(a.J).Of),d={};jAb.yb((d["range-ref"]=b,d["filter-view-id"]=c,d))}else"waffle-filter-bar-range-filter-pill-edit"!=a.C||a.D.C.equals(b)||(c={},bH.yb((c["range-ref"]=b,c["range-filter-id"]=a.D.F,c)));a.ea=!1}}};function Mcf(){return Q('<div class="waffle-filter-bar-promo"><div aria-live="polite"><span class="docs-promo-title">You just used your first filter view!</span><br><br><div class="waffle-filter-bar-contents"><span class="docs-promo-content">Only your view has changed, but the list of filter views is shared with collaborators.<br><br><b>Important:&nbsp;</b>Editing data changes it for everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
function Ncf(){return Q('<div class="waffle-filter-bar-promo"><div aria-live="polite"><div class="waffle-filter-bar-contents"><span class="docs-promo-content">This <b>filter view</b> is temporary, so only you can see it.<br><br><b>Editors</b> of this spreadsheet can create filter views that are shared with everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
;function Ocf(a,b,c){b=c||b;a=a.MHb;c='<div class="waffle-filter-bar"><span id="waffle-filter-bar-name-label" class="waffle-filter-bar-header waffle-filter-bar-name-label goog-inline-block">Name:</span><div class="waffle-filter-bar-name-inputbox"><div class="waffle-filter-bar-promo-container" id="waffle-filter-bar-promo"></div><span class="waffle-filter-bar-name-readonly goog-inline-block" id="waffle-filterbar-name-readonly" tabindex="0" style="display:none"></span><input class="jfk-textinput waffle-filter-bar-name-input" id="waffle-filterbar-name-input" type="text" aria-labelledBy="waffle-filter-bar-name-label"/></div><span class="waffle-filter-bar-header goog-inline-block"></span>';
c=(a?c+'<div class="waffle-filter-bar-range-section-container goog-inline-block"></div>':c+'<span id="waffle-filter-bar-range-label" class="waffle-filter-bar-header waffle-filter-bar-range-label goog-inline-block">Range:</span><span class="waffle-filter-bar-range-readonly goog-inline-block" id="waffle-filterbar-range-readonly" tabindex="0"></span><input class="jfk-textinput waffle-filter-bar-range-input" id="waffle-filterbar-range-input" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/>')+
'<div class="goog-inline-block waffle-filter-bar-align-right">'+P(Wu({enabled:!0,title:It("Options"),id:"waffle-filter-bar-options",Nl:"waffle-filter-bar-options",uC:Jt(""+P(Vu({icon:It("docs-icon-img docs-icon-settings-white")},b)))}));c+=P(kWa({id:"waffle-filter-bar-close",Mf:"waffle-filter-bar-close"},b))+"</div></div>";return Q(c)};function Pcf(a,b,c,d,e,f){AZ.call(this,f);this.cb=a;this.kb=b;this.fb=c;this.Wa=d;this.Ga=e;this.R=null;this.GJ=new uw(void 0,f);this.Ia(this.GJ);this.$a=null;this.Fa=new Uu;this.Ia(this.Fa);this.ea=null;this.XB=new uw(void 0,f);this.Ia(this.XB);if(this.O=M(L(),"femrfifv"))this.Ba=new Hcf(a,d,e),this.Ia(this.Ba);this.D=null;this.Sa=new so("Rename");this.Va=new so("Update Range");this.Oa=new so("Duplicate");this.Ma=new so("Delete");this.Ra=new so("Learn more");this.H=new Ws(null,null,$u.getInstance(),
f);this.H.Xc(this.Sa);this.O||this.H.Xc(this.Va);this.H.Xc(this.Oa);this.H.Xc(this.Ma);this.H.Xc(new wo);this.H.Xc(this.Ra);this.Ia(this.H);this.C=new Ts(void 0,$u.getInstance(),f);this.Ia(this.C)}y(Pcf,AZ);n=Pcf.prototype;n.cEa=m("waffle-slidingdialog-filterbar");n.$Va=function(){return zt(Ocf,{MHb:this.O})};
n.Ja=function(){Pcf.va.Ja.call(this);var a=this.Ka("waffle-filter-bar-name-input");this.GJ.Xa(a);fl(a,"label-input-label");this.Fa.Xa(a);this.R=this.Ka("waffle-filter-bar-name-readonly");this.$a=this.Ka("waffle-filter-bar-name-label");this.O?this.Ba.render(this.Ka("waffle-filter-bar-range-section-container")):(a=this.Ka("waffle-filter-bar-range-input"),this.XB.Xa(a),this.ea=this.Ka("waffle-filter-bar-range-readonly"),Qcf(this));this.H.Xa(this.Ka("waffle-filter-bar-options"));this.H.Qa(!0);this.C.Xa(this.Ka("waffle-filter-bar-close"));
this.C.Qa(!0);Rcf(this);Scf(this)};
function Scf(a){var b=rL(a.kb),c=new fo;go(c,a.GJ.getElement());var d=new cu(a.GJ.getElement()),e=new fo;go(e,a.C.getElement());a.getHandler().V(a.C,"action",a.b4b).V(b,["bc","dc","ec"],a.Gc).V(c,"key",a.Hvb).V(e,"key",a.sDb).V(d,"focusin",a.bWa).V(d,"focusout",a.Gvb);YG.zb(Ja,function(){return Rcf(a)});b=new Mm(void 0,void 0,!0,Go.getInstance());Qm(b,a.Sa,YG);Qm(b,a.Oa,WG);Qm(b,a.Ma,VG);Qm(b,a.Ra,(lk(),Si),void 0,a.OEa);a.O||(c=new fo,go(c,a.XB.getElement()),d=new cu(a.XB.getElement()),a.getHandler().V(c,
"key",a.d4b).V(d,"focusin",a.bWa).V(d,"focusout",a.c4b),bH.zb(Ja,function(){return Qcf(a)}),Qm(b,a.Va,bH))}n.setVisible=function(a,b){Pcf.va.setVisible.call(this,a,b);a&&this.Gc();!a&&this.D&&(this.D.setVisible(!1),this.D=null)};
n.bPa=function(){var a=Tcf(this);if(a&&(a=wL(a),this.fb.C[a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo"].getValue())){var b=zt(a?Ncf:Mcf);this.D=new OS(this.qa().getElement("waffle-filter-bar-promo"));this.Aa(this.D);this.D.setPosition(1,0);this.D.setContent(b);Bo(this.D.D,!1);this.D.aE=!0;this.D.render();b=this.qa().getElement("waffle-filterbar-promo-dismiss-link");Ne.V(b,this.m9,!1,this);b=this.qa().getElement("waffle-filterbar-promo-learn-more-link");Ne.V(b,this.hJa,!1,this);
this.getHandler().V(this.D,"hide",this.m9);EO(this.fb,a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo",!1)}};n.m9=function(){if(this.D){var a=this.qa().getElement("waffle-filterbar-promo-dismiss-link");Ne.Mc(a,this.m9,!1,this);a=this.qa().getElement("waffle-filterbar-promo-learn-more-link");Ne.Mc(a,this.hJa,!1,this);this.getHandler().Mc(this.D,"hide",this.m9);this.D.setVisible(!1);this.D=null}};
n.Gc=function(){var a=Tcf(this);if(a){var b=tL(a);if(b){this.H.setVisible(!wL(a));N(this.$a,!wL(a));b=ritz_api.RitzModelApi.getFilterName(b);var c="Name: "+b;this.Fa.setValue(b);this.qa().ze(this.R,b);al(this.R,c);this.O?this.Ba.Gc():(a=tcf(a)[0],a=oNd(this.Ga,a)?pNd(this.Ga,a,!1):"#REF",b="Range: "+a,this.XB.setValue(a),this.qa().ze(this.ea,a),al(this.ea,b))}}};n.b4b=function(){this.dispatchEvent("close");Ucf(this)};
n.Hvb=function(a){13==a.keyCode?(Vcf(this),Ucf(this)):27==a.keyCode&&(this.Gc(),a.stopPropagation(),Ucf(this))};n.d4b=function(a){13==a.keyCode?(Wcf(this),Ucf(this)):27==a.keyCode&&(this.Gc(),a.stopPropagation(),Ucf(this))};n.sDb=function(a){a.shiftKey||9!=a.keyCode||(Ucf(this),a.stopPropagation())};function Ucf(a){a.Wa.xb(3)}n.bWa=function(){this.Wa.xb(2)};n.Gvb=function(){this.getVisible()&&Vcf(this)};n.c4b=function(){this.getVisible()&&Wcf(this)};
function Rcf(a){var b=YG.isEnabled();N(a.GJ.getElement(),b);N(a.R,!b)}function Qcf(a){var b=bH.isEnabled();N(a.XB.getElement(),b);N(a.ea,!b)}function Vcf(a){var b=Tcf(a);if(b){b=tL(b);var c=ritz_api.RitzModelApi.getFilterName(b),d=Hb(a.GJ.getValue());c==d?a.Gc():(a={},YG.yb((a.name=d,a["filter-view-id"]=b,a)))}}function Wcf(a){var b=Tcf(a);if(b){var c=tL(b),d=Hb(a.XB.getValue());(d=rNd(a.Ga,d))?tcf(b)[0].equals(d)?a.Gc():(a={},bH.yb((a["range-ref"]=d,a["range-filter-id"]=c,a))):a.Gc()}}
n.hJa=function(){(lk(),Si).yb(this.OEa())};n.OEa=function(){var a={};return a.defaultHelpArticleId="3540681",a};n.focus=function(){xw(this.GJ)};function Tcf(a){return BK(a.cb)?a.cb.getActiveGrid().Dc().Of:null};function Xcf(a,b,c,d,e,f){zZ.call(this,"waffle-filterbar-id",e);this.O=x(this.TYb,this);this.H=a;this.L=b;this.D=c;this.ma=d;this.F=f;this.J=new ye(this);this.Aa(this.J);this.J.subscribe(WG,"action",this.fpb).subscribe(VG,"action",this.Mnb).subscribe(YG,"action",this.Czb).subscribe(bH,"action",this.DEb).subscribe(jAb,"action",this.a4b).subscribe(kAb,"action",this.Onb)}y(Xcf,zZ);n=Xcf.prototype;n.TYb=function(){this.C.setVisible(!0)};
n.Mnb=function(){var a=Ycf(this),b=tL(a.Of);b&&this.D.C(new ycf(a,b))};n.fpb=function(){var a=Ycf(this),b=tL(a.Of);b&&this.D.C(new Acf(a,b,!this.F.J.C))};n.Czb=function(a){if(a){var b=a["filter-view-id"];if((a=(a=a.name)&&Hb(a))&&a.length){var c=Ycf(this);this.D.C(new Bcf(c,b,a))}else this.C.Gc()}else xw(this.C.GJ)};n.DEb=function(a){if(a){var b=a["range-filter-id"];a=a["range-ref"];var c=Ycf(this),d=pNd(this.F.Ra,a,!1);this.D.C(new Ccf(c,b,a,d))}else xw(this.C.XB)};
n.a4b=function(a){if(a){var b=a["filter-view-id"];a=a["range-ref"];var c=Ycf(this);this.D.C(new xcf(b,a,wL(c.Of)))}else xw(this.C.XB)};n.Onb=function(a){a?this.D.C(new zcf(a["filter-view-id"],a["range-filter-id"])):xw(this.C.XB)};n.OZ=function(){return new Pcf(this.H,this.L,this.ma,this.R,this.F.Ra)};n.yz=function(){Xcf.va.yz.call(this);this.getHandler().V(this.C,"close",this.rEb);this.zG()};n.Pua=m("waffle-filterbar-id");n.rEb=function(){var a=Ycf(this);this.D.C(new xM(a,null))};
n.setVisible=function(a,b){this.C.setVisible(a,b)};function Ycf(a){return a.H.getActiveGrid().Dc()};function Zcf(a,b,c,d,e,f,h){A.call(this);this.F=a;this.J=b;this.L=c;this.O=d;this.ea=e;this.R=f;this.ma=h;this.H=new nl(this);this.Aa(this.H);this.C=this.D=null;a=rL(this.J);this.H.V(a,["bc","cc","dc","ec"],this.e4b).V(this.F,["ib","yb"],this.g4b).V(this.F,["hb","zb"],this.f4b);OG.zb(Na,x(this.Ajb,this));$cf(this,!1)}y(Zcf,A);function $cf(a,b){if(a.F.C)if(BK(a.F)){var c=QM(a.F).Of;c=vL(c)&&!hRb(c);adf(a,c,b)}else adf(a,!1,b)}
function adf(a,b,c){a.C&&a.C.stop();b&&!a.D&&(a.D=new Xcf(a.F,a.J,a.O,a.ea,a.R,a.ma),a.Aa(a.D),a.H.V(a.D,"end",a.qkb),a.D.show());if(a.D&&(a.D.setVisible(b,c),c)){if(a=zK(a.L))c=a.Ba.kb,b=b?1:0,ucf("#555555","#f3f3f3",b),ucf("#363636","#ddd",b),ucf("#516374","#8fb1e8",b),ucf("white","black",b),ucf("white","green",b),c.C.color=ucf("#3c3c3c","#ccc",b),Coc(a.Ba,a.Ba.L,null,!0,!0);Bsd()}}n=Zcf.prototype;n.qkb=function(){Bsd();this.C&&this.C.play(!0)};n.e4b=function(){$cf(this,!1)};
n.g4b=function(){adf(this,!1,!0)};n.f4b=function(){$cf(this,!0)};n.Ajb=function(){this.C&&this.C.stop();var a=zK(this.L);if(a){a=a.Ba;var b=vcf(a);wl(b,"z-index",3);wl(b,"pointer-events","none");b.removeAttribute("moz-opaque");wcf(a,b);this.C=NRa(b,.35);this.H.Lc(this.C,"end",x(function(){Wd(b);B(this.C);this.C=null},this))}};function bdf(){A.call(this)}y(bdf,vG);bdf.prototype.C=function(){return Zcf};CG("filterbar",bdf);

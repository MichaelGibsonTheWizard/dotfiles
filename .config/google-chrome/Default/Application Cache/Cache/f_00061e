function Phe(a){if(a.D)return a.D;a.D=[];var b=LIb(a);a.D=Xa(b,function(b){var c=N0c(a,b);if(T(c,12))return new sX(null,ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(T(c,12)));b=a.V.ld(aA.Ba(),ritz_api.RitzModelApi.getWorkbookRangeById(b,!1));return new sX(yB(b),null)});return a.D}function Qhe(a,b,c){return xu(Bu(zu(vu(a).og),zu(vu(b).og),c))}function Rhe(a){var b=a.C.cloneNode(!1);a.qa().yr(b,a.C);return b}
function She(a,b){var c=b.getContext("2d"),d=GP(a.D),e=a.D.Eb(),f=YP(a.D),h=ZP(a.D);e=e?d.width-f:0;var k=d.height-h;b.width=a.C.width;b.height=a.C.height;m6b(a.C,c,0,0,0,0,d.width,h);m6b(a.C,c,e,h,e,h,f,k)}function The(a,b,c){WI.call(this,131);this.D=a;this.J=b;this.C=c}r(The,WI);The.prototype.Ld=function(){var a=new zDb;U(a,1,this.D);U(a,4,this.C);var b=J3c(this.J);U(a,3,b);return a};function Uhe(a,b){WI.call(this,40);this.C=b}w(Uhe,WI);Uhe.prototype.C_=function(){CE.zb()};Uhe.prototype.Ld=function(){var a=new XBb;U(a,1,this.C);return a};Uhe.prototype.$g=Cc;Uhe.prototype.bj=n("Filter view deleted");function Vhe(a,b){WI.call(this,132);this.C=a;this.D=b}r(Vhe,WI);Vhe.prototype.Ld=function(){var a=new BDb;U(a,1,this.C);U(a,2,this.D);return a};function Whe(a,b,c){WI.call(this,41);this.C=b;this.D=c}w(Whe,WI);Whe.prototype.Ld=function(){var a=new ZBb;U(a,1,this.C);U(a,2,this.D);return a};Whe.prototype.$g=Cc;Whe.prototype.bj=n("Filter view duplicated");function Xhe(a,b,c){WI.call(this,43);this.D=b;this.C=c}w(Xhe,WI);Xhe.prototype.Ld=function(){var a=new iI;U(a,1,this.D);a.Ne(this.C);return a};Xhe.prototype.$g=Cc;Xhe.prototype.bj=function(){return"Filter view renamed to "+this.C};function Yhe(a,b){WI.call(this,133);this.D=a;this.C=b}r(Yhe,WI);Yhe.prototype.Ld=function(){var a=new xDb;U(a,2,this.D);U(a,1,this.C);return a};function Zhe(a,b,c,d){WI.call(this,70);this.O=a.mc();this.D=b;this.J=c;this.C=d}w(Zhe,WI);Zhe.prototype.Ld=function(){var a=new wI;U(a,1,this.O);U(a,4,this.D);var b=J3c(this.J);U(a,3,b);return a};Zhe.prototype.bj=function(){return"Filter range updated to "+(this.C+".")};function $he(a,b,c){b=c||b;var d=a.JEb;a=P;c='<div class="'+Q("waffle-filter-bar-rangepill")+" "+Q("goog-inline-block")+'" tabindex="0"><span class="'+Q("waffle-filter-bar-rangepill-range")+" "+Q("goog-inline-block")+'"></span>';d=d={Gf:"waffle-filter-bar-rangepill-close",hidden:d};b=P(yUa(Ks({vO:"docs-icon-close-thin"},d),b));return a(c+O(b)+"</div>")};function aie(a,b,c,d,e){M.call(this,e);this.F=a;this.H=c;this.C=b;this.D=d}r(aie,M);p=aie.prototype;p.Ca=function(){this.mb(N($he,{JEb:this.D}));this.qa().He(this.Ja("waffle-filter-bar-rangepill-range"),bie(this))};p.Ia=function(){M.prototype.Ia.call(this);var a=new an,b=this.Oa();bn(a,b);this.getHandler().qg(b,Le,this.Dab).R(a,"key",this.vqb);this.D||this.getHandler().R(this.Ja("waffle-filter-bar-rangepill-close"),"click",this.JAa)};p.Dab=function(){this.dispatchEvent(new D("wg",this))};
p.vqb=function(a){46==a.keyCode&&this.JAa(a)};p.JAa=function(a){this.dispatchEvent(new D("xg",this));a.stopPropagation()};function bie(a){return v1c(a.H,a.C)?w1c(a.H,a.C,!1):"#REF"};function cie(){var a='<div class="'+Q("waffle-filter-bar-range-section")+'"><span id="waffle-filter-bar-range-label" class="'+Q("waffle-filter-bar-header")+" "+Q("waffle-filter-bar-range-label")+" "+Q("goog-inline-block")+'">';a=a+"Ranges:"+('</span><div class="'+Q("waffle-filter-bar-range-filter-pills-container")+" "+Q("goog-inline-block")+'"></div><div class="'+Q("waffle-filter-bar-add-range-filter-button")+" "+Q("goog-inline-block")+'">');a=a+"Add new range"+('</div><input class="'+Q("jfk-textinput")+
" "+Q("waffle-filter-bar-range-pill-input")+'" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/></div>');return P(a)};function die(a,b,c,d){M.call(this,d);this.H=a;this.O=b;this.V=c;this.L=new M;this.Ga(this.L);this.J=new Or(void 0,Wt.getInstance(),d);this.Ga(this.J);this.F=new kv(void 0,d);this.Ga(this.F);this.D="waffle-filter-bar-range-filter-pill-view";this.C=null}r(die,M);p=die.prototype;
p.Ca=function(){this.mb(N(cie));this.L.Va(this.Ja("waffle-filter-bar-range-filter-pills-container"));this.J.Va(this.Ja("waffle-filter-bar-add-range-filter-button"));this.J.Na(!0);var a=this.Ja("waffle-filter-bar-range-pill-input");this.F.Va(a)};p.Ia=function(){M.prototype.Ia.call(this);var a=new an,b=this.F.Oa();bn(a,b);b=new dt(b);this.getHandler().R(this.L,"wg",this.Cmb).R(this.L,"xg",this.dlb).R(a,"key",this.NHb).R(b,"focusin",this.MHb).R(b,"focusout",this.xT).R(this.J,"action",this.vgb)};
p.Cc=function(){var a=this;this.L.vd(!0);x(eie(this),function(b){a.L.Ga(b,!0);"waffle-filter-bar-range-filter-pill-edit"==a.D&&b.C.equals(a.C.C)&&(a.C=b,fie(a,a.C.Oa()))})};p.Cmb=function(a){"waffle-filter-bar-range-filter-pill-view"!=this.D&&this.xT();this.C=a.target;this.F.setValue(bie(this.C));fie(this,this.C.Oa());this.D="waffle-filter-bar-range-filter-pill-edit"};
p.dlb=function(a){var b=iJ(this.H)?this.H.getActiveGrid().Fc().Yf:null;if(b&&(b=hK(b))){a=a.target;var c={};mub.zb((c["filter-view-id"]=b,c["range-filter-id"]=a.F,c))}};p.vgb=function(){"waffle-filter-bar-range-filter-pill-view"!=this.D&&this.xT();var a=this.H.getActiveGrid().Fc().Ec();this.F.setValue(gL(a));fie(this,this.J.Oa());this.D="waffle-filter-bar-range-section-mode-add"};
function fie(a,b){var c=a.F.Oa();pl(c,rl(b).width);a.qa().yr(c,b);K(b,!1);K(c,!0);b=new $l(function(){return ov(a.F)});a.va(b);b.start()}p.xT=function(){"waffle-filter-bar-range-filter-pill-view"!=this.D&&(K("waffle-filter-bar-range-filter-pill-edit"==this.D?this.C.Oa():this.J.Oa(),!0),K(this.F.Oa(),!1),this.D="waffle-filter-bar-range-filter-pill-view",this.C=null)};
p.NHb=function(a){if(13==a.keyCode){var b=Nb(this.F.getValue());if((b=y1c(this.V,b))&&v1c(this.V,b))if("waffle-filter-bar-range-section-mode-add"==this.D){var c=iJ(this.H)?this.H.getActiveGrid().Fc().Yf:null;if(c){c=hK(c);var d={};lub.zb((d["range-ref"]=b,d["filter-view-id"]=c,d))}}else this.C.C.equals(b)?this.xT():(c={},KE.zb((c["range-ref"]=b,c["range-filter-id"]=this.C.F,c)));this.xT();this.O.tb(3)}else 27==a.keyCode&&(this.xT(),this.Cc(),this.O.tb(3));a.stopPropagation()};p.MHb=function(){this.O.tb(2)};
function eie(a){var b=iJ(a.H)?a.H.getActiveGrid().Fc().Yf:null;if(!b||!hK(b))return[];var c=LIb(b),d=1==c.length;return Xa(Phe(b),function(b,f){return new aie(c[f++],b,a.V,d)})};function gie(){return P('<div class="waffle-filter-bar-promo"><div aria-live="polite"><span class="docs-promo-title">You just used your first filter view!</span><br><br><div class="waffle-filter-bar-contents"><span class="docs-promo-content">Only your view has changed, but the list of filter views is shared with collaborators.<br><br><b>Important:&nbsp;</b>Editing data changes it for everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
function hie(){return P('<div class="waffle-filter-bar-promo"><div aria-live="polite"><div class="waffle-filter-bar-contents"><span class="docs-promo-content">This <b>filter view</b> is temporary, so only you can see it.<br><br><b>Editors</b> of this spreadsheet can create filter views that are shared with everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
;function iie(a,b,c){b=c||b;a=a.CEb;c='<div class="waffle-filter-bar"><span id="waffle-filter-bar-name-label" class="waffle-filter-bar-header waffle-filter-bar-name-label goog-inline-block">Name:</span><div class="waffle-filter-bar-name-inputbox"><div class="waffle-filter-bar-promo-container" id="waffle-filter-bar-promo"></div><span class="waffle-filter-bar-name-readonly goog-inline-block" id="waffle-filterbar-name-readonly" tabindex="0" style="display:none"></span><input class="jfk-textinput waffle-filter-bar-name-input" id="waffle-filterbar-name-input" type="text" aria-labelledBy="waffle-filter-bar-name-label"/></div><span class="waffle-filter-bar-header goog-inline-block"></span>';
c=(a?c+'<div class="waffle-filter-bar-range-section-container goog-inline-block"></div>':c+'<span id="waffle-filter-bar-range-label" class="waffle-filter-bar-header waffle-filter-bar-range-label goog-inline-block">Range:</span><span class="waffle-filter-bar-range-readonly goog-inline-block" id="waffle-filterbar-range-readonly" tabindex="0"></span><input class="jfk-textinput waffle-filter-bar-range-input" id="waffle-filterbar-range-input" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/>')+
'<span class="waffle-filter-bar-apply-to-pivot-table-label waffle-filter-bar-header goog-inline-block">Apply to pivot table:'+('</span><div class="waffle-filter-bar-header goog-inline-block">'+O(xv({Bd:"waffle-filter-bar-apply-to-pivot-table"},b))+'</div><div class="goog-inline-block waffle-filter-bar-align-right">');c+=O(Tt({enabled:!0,title:Ns("Options"),id:"waffle-filter-bar-options",ol:"waffle-filter-bar-options",zE:Os(""+O(Rt({icon:Ns("docs-icon-img docs-icon-settings-white")},b)))}));c+=O(xUa({id:"waffle-filter-bar-close",
Gf:"waffle-filter-bar-close"},b))+"</div></div>";return P(c)};function jie(a,b,c,d,e,f){IZ.call(this,f);this.$a=a;this.ib=b;this.eb=c;this.Ta=d;this.Fa=e;this.V=null;this.jI=new kv(void 0,f);this.Ga(this.jI);this.Xa=null;this.Da=new Qt;this.Ga(this.Da);this.ea=null;this.zA=new kv(void 0,f);this.Ga(this.zA);if(this.O=I(H(),"femrfifv"))this.xa=new die(a,d,e),this.Ga(this.xa);this.D=null;this.Qa=new wn("Rename");this.Sa=new wn("Update Range");this.Ma=new wn("Duplicate");this.Ka=new wn("Delete");this.Pa=new wn("Learn more");this.H=new Rr(null,null,Wt.getInstance(),
f);this.H.bd(this.Qa);this.O||this.H.bd(this.Sa);this.H.bd(this.Ma);this.H.bd(this.Ka);this.H.bd(new An);this.H.bd(this.Pa);this.Ga(this.H);this.C=new Or(void 0,Wt.getInstance(),f);this.Ga(this.C);this.RN=new yv;this.Ga(this.RN)}w(jie,IZ);p=jie.prototype;p.vBa=n("waffle-slidingdialog-filterbar");p.URa=function(){return N(iie,{CEb:this.O})};
p.Ia=function(){jie.oa.Ia.call(this);var a=this.Ja("waffle-filter-bar-name-input");this.jI.Va(a);Hk(a,"label-input-label");this.Da.Va(a);this.V=this.Ja("waffle-filter-bar-name-readonly");this.Xa=this.Ja("waffle-filter-bar-name-label");this.O?this.xa.render(this.Ja("waffle-filter-bar-range-section-container")):(a=this.Ja("waffle-filter-bar-range-input"),this.zA.Va(a),this.ea=this.Ja("waffle-filter-bar-range-readonly"),kie(this));this.H.Va(this.Ja("waffle-filter-bar-options"));this.H.Na(!0);this.C.Va(this.Ja("waffle-filter-bar-close"));
this.C.Na(!0);this.RN.Va(this.Ja("waffle-filter-bar-apply-to-pivot-table"));this.RN.Na(!0);I(H(),"fefpffv")||(this.RN.setVisible(!1),K(this.Ja("waffle-filter-bar-apply-to-pivot-table-label"),!1));lie(this);mie(this)};
function mie(a){var b=fK(a.ib),c=new an;bn(c,a.jI.getElement());var d=new dt(a.jI.getElement()),e=new an;bn(e,a.C.getElement());a.getHandler().R(a.C,"action",a.WXb).R(b,["ec","gc","hc"],a.Cc).R(c,"key",a.YXb).R(e,"key",a.AAb).R(d,"focusin",a.WRa).R(d,"focusout",a.XXb);GE.xb(Oa,function(){return lie(a)});b=new pm(void 0,void 0,!0,Kn.getInstance());vm(b,a.Qa,GE);vm(b,a.Ma,EE);vm(b,a.Ka,DE);vm(b,a.Pa,(Rj(),yi),void 0,a.fCa);a.O||(c=new an,bn(c,a.zA.getElement()),d=new dt(a.zA.getElement()),a.getHandler().R(c,
"key",a.ZXb).R(d,"focusin",a.WRa).R(d,"focusout",a.Zvb),KE.xb(Oa,function(){return kie(a)}),vm(b,a.Sa,KE))}p.setVisible=function(a,b){jie.oa.setVisible.call(this,a,b);a&&this.Cc();!a&&this.D&&(this.D.setVisible(!1),this.D=null)};
p.WLa=function(){var a=nie(this);if(a&&(a=kK(a),this.eb.C[a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo"].getValue())){var b=N(a?hie:gie);this.D=new RS(this.qa().getElement("waffle-filter-bar-promo"));this.va(this.D);this.D.setPosition(1,0);this.D.setContent(b);Fn(this.D.D,!1);this.D.vC=!0;this.D.render();b=this.qa().getElement("waffle-filterbar-promo-dismiss-link");Le.R(b,this.N6,!1,this);b=this.qa().getElement("waffle-filterbar-promo-learn-more-link");Le.R(b,this.BGa,!1,this);
this.getHandler().R(this.D,"hide",this.N6);BN(this.eb,a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo",!1)}};p.N6=function(){if(this.D){var a=this.qa().getElement("waffle-filterbar-promo-dismiss-link");Le.Hc(a,this.N6,!1,this);a=this.qa().getElement("waffle-filterbar-promo-learn-more-link");Le.Hc(a,this.BGa,!1,this);this.getHandler().Hc(this.D,"hide",this.N6);this.D.setVisible(!1);this.D=null}};
p.Cc=function(){var a=nie(this);if(a){var b=hK(a);if(b){this.H.setVisible(!kK(a));K(this.Xa,!kK(a));var c=ritz_api.RitzModelApi.getFilterName(b),d="Name: "+c;this.Da.setValue(c);this.qa().He(this.V,c);Dk(this.V,d);this.O?this.xa.Cc():(a=Phe(a)[0],a=v1c(this.Fa,a)?w1c(this.Fa,a,!1):"#REF",c="Range: "+a,this.zA.setValue(a),this.qa().He(this.ea,a),Dk(this.ea,c));I(H(),"fefpffv")&&this.RN.tc(ritz_api.RitzModelApi.getApplyToPivotTableState(b))}}};p.WXb=function(){this.dispatchEvent("close");oie(this)};
p.YXb=function(a){13==a.keyCode?(pie(this),oie(this)):27==a.keyCode&&(this.Cc(),a.stopPropagation(),oie(this))};p.ZXb=function(a){13==a.keyCode?(qie(this),oie(this)):27==a.keyCode&&(this.Cc(),a.stopPropagation(),oie(this))};p.AAb=function(a){a.shiftKey||9!=a.keyCode||(oie(this),a.stopPropagation())};function oie(a){a.Ta.tb(3)}p.WRa=function(){this.Ta.tb(2)};p.XXb=function(){this.Wd&&pie(this)};p.Zvb=function(){this.Wd&&qie(this)};
function lie(a){var b=GE.isEnabled();K(a.jI.getElement(),b);K(a.V,!b)}function kie(a){var b=KE.isEnabled();K(a.zA.getElement(),b);K(a.ea,!b)}function pie(a){var b=nie(a);if(b){b=hK(b);var c=ritz_api.RitzModelApi.getFilterName(b),d=Nb(a.jI.getValue());c==d?a.Cc():(a={},GE.zb((a.name=d,a["filter-view-id"]=b,a)))}}function qie(a){var b=nie(a);if(b){var c=hK(b),d=Nb(a.zA.getValue());(d=y1c(a.Fa,d))?Phe(b)[0].equals(d)?a.Cc():(a={},KE.zb((a["range-ref"]=d,a["range-filter-id"]=c,a))):a.Cc()}}
p.BGa=function(){(Rj(),yi).zb(this.fCa())};p.fCa=function(){var a={};return a.defaultHelpArticleId="3540681",a};p.focus=function(){ov(this.jI)};function nie(a){return iJ(a.$a)?a.$a.getActiveGrid().Fc().Yf:null};function rie(a,b,c,d,e,f){HZ.call(this,"waffle-filterbar-id",e);this.O=u(this.MSb,this);this.H=a;this.L=b;this.D=c;this.ma=d;this.F=f;this.J=new xe(this);this.va(this.J);this.Hh()}w(rie,HZ);p=rie.prototype;p.Hh=function(){this.J.subscribe(EE,"action",this.xmb).subscribe(DE,"action",this.clb).subscribe(GE,"action",this.Nwb).subscribe(KE,"action",this.LBb).subscribe(lub,"action",this.VXb).subscribe(mub,"action",this.elb)};p.MSb=function(){this.C.setVisible(!0)};
p.clb=function(){var a=sie(this),b=hK(a.Yf);b&&this.D.C(new Uhe(a,b))};p.xmb=function(){var a=sie(this),b=hK(a.Yf);b&&this.D.C(new Whe(a,b,!this.F.J.C))};p.Nwb=function(a){if(a){var b=a["filter-view-id"];if((a=(a=a.name)&&Nb(a))&&a.length){var c=sie(this);this.D.C(new Xhe(c,b,a))}else this.C.Cc()}else ov(this.C.jI)};p.LBb=function(a){if(a){var b=a["range-filter-id"];a=a["range-ref"];var c=sie(this),d=w1c(this.F.Pa,a,!1);this.D.C(new Zhe(c,b,a,d))}else ov(this.C.zA)};
p.VXb=function(a){if(a){var b=a["filter-view-id"];a=a["range-ref"];var c=sie(this);this.D.C(new The(b,a,kK(c.Yf)))}else ov(this.C.zA)};p.elb=function(a){a?this.D.C(new Vhe(a["filter-view-id"],a["range-filter-id"])):ov(this.C.zA)};p.oX=function(){return new jie(this.H,this.L,this.ma,this.V,this.F.Pa)};p.gy=function(){rie.oa.gy.call(this);var a=this.C,b=a.RN;this.getHandler().R(a,"close",this.xBb).R(b,"change",this.JBb);this.lF()};p.lra=n("waffle-filterbar-id");
p.xBb=function(){var a=sie(this);this.D.C(new kL(a,null))};p.JBb=function(a){if(I(H(),"fefpffv")){var b=hK(sie(this).Yf);b&&(a=a.currentTarget.isChecked(),this.D.C(new Yhe(b,a)))}};p.setVisible=function(a,b){this.C.setVisible(a,b)};function sie(a){return a.H.getActiveGrid().Fc()};function tie(a,b,c,d,e,f,h){y.call(this);this.F=a;this.J=b;this.L=c;this.O=d;this.ea=e;this.V=f;this.ma=h;this.H=new Mk(this);this.va(this.H);this.C=this.D=null;a=fK(this.J);this.H.R(a,["ec","fc","gc","hc"],this.$Xb).R(this.F,["lb","Bb"],this.bYb).R(this.F,["kb","Cb"],this.aYb);CE.xb(Ra,u(this.Vgb,this));uie(this,!1)}w(tie,y);function uie(a,b){if(a.F.C)if(iJ(a.F)){var c=xN(a.F).Yf;c=jK(c)&&!OIb(c);vie(a,c,b)}else vie(a,!1,b)}
function vie(a,b,c){a.C&&a.C.stop();b&&!a.D&&(a.D=new rie(a.F,a.J,a.O,a.ea,a.V,a.ma),a.va(a.D),a.H.R(a.D,"end",a.Lhb),a.D.show());if(a.D&&(a.D.setVisible(b,c),c)){if(a=hJ(a.L))c=a.xa.ib,b=b?1:0,Qhe("#555555","#f3f3f3",b),Qhe("#363636","#ddd",b),Qhe("#516374","#8fb1e8",b),Qhe("white","black",b),Qhe("white","green",b),c.C.color=Qhe("#3c3c3c","#ccc",b),Dec(a.xa,a.xa.L,null,!0,!0);yJc()}}p=tie.prototype;p.Lhb=function(){yJc();this.C&&this.C.play(!0)};p.$Xb=function(){uie(this,!1)};
p.bYb=function(){vie(this,!1,!0)};p.aYb=function(){uie(this,!0)};p.Vgb=function(){this.C&&this.C.stop();var a=hJ(this.L).xa,b=Rhe(a);al(b,"z-index",3);al(b,"pointer-events","none");b.removeAttribute("moz-opaque");She(a,b);this.C=GQa(b,.35);this.H.Jc(this.C,"end",u(function(){Wd(b);A(this.C);this.C=null},this))};function wie(){y.call(this)}w(wie,iE);wie.prototype.C=function(){return tie};qE("filterbar",wie);

rw.prototype.hq=ea(43,g("reason"));P1a.prototype.hq=ea(42,g("C"));GD.prototype.hq=ea(41,function(){return V(this,2)});function cge(a,b){Io(a.C,8192)?b():(Lp(a.iO,a.oa,function(){b()}),a.create())}function dge(a){a.O=!0;return a}function q5(a){nf(this,a,0,-1,null,null)}w(q5,mf);q5.prototype.hq=function(){return F(this,1)};function ege(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}
function fge(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function gge(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}function hge(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function ige(a){nf(this,a,0,-1,null,null)}w(ige,mf);function jge(a){nf(this,a,0,-1,null,null)}w(jge,mf);jge.prototype.getId=function(){return F(this,1)};
jge.prototype.Ze=function(a){G(this,1,a)};jge.prototype.getType=function(){return F(this,2)};jge.prototype.setType=function(a){G(this,2,a)};function kge(a,b){this.i7=a;this.jM=b};function lge(a,b,c,d,e){z.call(this);this.Xa=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new $Ma;this.J=c;this.D=null;this.F=new Jp;this.Ba(this.F);this.C=mge(this)}w(lge,z);function mge(a){a.C&&A(a.C);var b=jh(H(),"lssv");return new eNa(a.Xa,a.O,0,a.j1a.bind(a),b,!0,a.J,new YLa)}function nge(a){if(a.D)return a.D;a.D=oge(a);return Xe(a.D,function(b){a.X8();throw b;})}
function pge(a){return nge(a).then(function(a){return(new Qe(function(b,d){ZHa(a.eP(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==kh(H(),"docs-offline-lsuid")?new kge(a,b[0]):null}.bind(this))}.bind(a))}p=lge.prototype;p.get=function(){return pge(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.i7})};function oge(a){return(new Qe(function(a,c){bf(this.C.create(this.X8.bind(this)),a,c)}.bind(a))).then(a.$pb.bind(a))}
p.$pb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new MKa(a,this.H);this.Ba(c)}pFa(a);Kp(this.F,a.C.C.H,function(){b.X8()});Kp(this.F,a.C.oa,function(){b.X8()});return a};p.X8=function(){A(this.C);this.C=mge(this);this.D=null};p.j1a=function(a){return sLa(this.L,a)};p.Ia=function(){A(this.C);lge.qa.Ia.call(this)};function qge(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function rge(a){Pt.call(this);this.O=a;nt(this,"Turn on offline for all files?");a=new wt;Bt(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);Bt(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);zt(this,a);yt(this,!1);this.Bi=this.Sr=!0;a=new cW;ot(this,Hs(QXc(a,qge)));this.C=this.F=null}w(rge,Pt);
rge.prototype.Ja=function(){rge.qa.Ja.call(this);It(this,this.D.Pu);this.F=me(this.va(),"docs-offline-optindialog-disclaimer-link");this.C=me(this.va(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Rc(this.F,"click",this.L)};rge.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};rge.prototype.L=function(){J(this.F,"docs-offline-optindialog-disclaimer-link-disabled");K(this.C,!0);this.C.focus()};function sge(a,b,c,d){E.call(this);this.D=a;this.Aa=b;this.L=c;this.O=new Nr(this.L,Mr(),this);this.Xa=d;this.F=Ve();this.H=this.C=null;this.J=!1}w(sge,E);sge.prototype.start=function(){var a=this;tge(this,"Initialization").then(function(){a.J=!0;a.F.resolve(null);a.O.V(GKa,a.ma).V(uKa,a.oa).V(xKa,a.R)},function(b){a.F.resolve(ze(b))})};function uge(a){return a.F.C.then(function(a){if(null!=a)throw a;})}
sge.prototype.ma=function(a){a=wf(a,EKa,1);for(var b=0;b<a.length;b++){var c=a[b].sz(KKa);if(c&&F(c,1)==this.D&&pf(c,3).includes(1)){vge(this,"Document data changed");break}}};sge.prototype.oa=function(a){F(a,1)==this.D&&vge(this,"Document available")};sge.prototype.R=function(){vge(this,"Offline disabled")};function vge(a,b){Xe(tge(a,b),function(b){fp(a.Xa,ze(b))})}
function tge(a,b){return Xe(wge(a.Aa,[a.D]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.H!=e);a.C=c;a.H=e;b&&a.dispatchEvent("pg");f&&a.dispatchEvent("qg")}),function(a){throw Ae(a,{pinStatusUpdateReason:b});})};function xge(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=Ve()}w(xge,E);function yge(a){return a.F.C.then(function(a){if(null!=a)throw a;})}xge.prototype.cB=g("D");function zge(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("rg")}function Age(a){if(!a.D)return!1;a=a.D.hq();return 1==a||6==a};function Bge(a,b,c,d,e,f,h,k,l){z.call(this);this.Da=a;this.Ga=b;this.Na=c;this.H=d;this.D=e;this.Xa=k;this.Aa=new sr;this.Ma=new Vk(this);this.Ba(this.Ma);this.La=a.C;this.ma=f;this.Oa=h;this.J=this.C=null;this.F=l;this.O=ju(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.oa=ju(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.R=ju(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=ju(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0)}w(Bge,z);p=Bge.prototype;p.init=function(){var a=this;Ue([yge(this.D),uge(this.H)]).then(function(){(Zj(),Qh).subscribe("action",a.FEa,a);a.Ma.V(a.H,"pg",a.Qtb).V(a.H,"qg",a.msb).V(a.D,"rg",a.osb);Cge(a);Qh.setVisible(C.product.mf)},function(b){a.Xa.Uc(ze(b))})};p.FEa=function(){Dge(this)};
function Dge(a){BJa(a.Aa).then(function(){if(mr()){if(1==a.D.C)return Ege(a);Age(a.D)?Fge(a):Gge(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=Bt(Bt(new wt,{key:"ok",caption:"Install"},!0),Et,!1,!0),c=a.ma,d=UWc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.U3a,null,a,void 0,b,void 0);c.Jh(d);d.focus();a.J=d;It(a.J,b.Pu)}})}
p.U3a=function(){var a=this;this.Aa.install().then(function(b){b&&Dge(a)},function(b){b=ze(b);a.Xa.Uc(b);aJa(b)})};function Ege(a){var b=!(Zj(),Qh).Pd();return Xe((new Qe(function(b){cge(a.La,b)})).then(function(){var c=new jge;c.Ze(a.Da.F);c.setType(a.Ga);return Hge(a.Na,[c],b)}),function(b){Gge(a,a.R);a.Xa.log(ze(b))})}function Ige(a){Xe(Jge(a.Oa),function(b){a.Xa.log(ze(b))}).then(function(){if(1==a.D.C)return Ege(a);Gge(a,a.L)})}
function Fge(a){a.C||(a.C=new rge(function(){return Ige(a)}),a.ma.Jh(a.C),a.Ma.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.Qtb=function(){Cge(this);Kge(this);this.H.C||Gge(this,this.oa)};p.msb=function(){Kge(this)};p.osb=function(){Cge(this)};function Kge(a){var b;if(b=1==a.D.C)b=a.H.H;b&&a.H.C&&Gge(a,a.O)}function Gge(a,b){b.sb()||b.render();a.O.setVisible(!1);a.oa.setVisible(!1);a.R.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function Cge(a){(Zj(),Qh).Pa(1==a.D.C||Age(a.D));Qh.$b(a.H.C)}p.Ia=function(){(Zj(),Qh).unsubscribe("action",this.FEa,this);this.C&&(ov(this.ma,this.C),A(this.C));this.J&&(ov(this.ma,this.J),A(this.J));Bge.qa.Ia.call(this);lu(this.F,this.O);lu(this.F,this.oa);lu(this.F,this.R);lu(this.F,this.L);xb(this.O,this.oa,this.R,this.L)};function Lge(a){this.D=a}Lge.prototype.C=function(a){var b=new iZc;jZc(b,a.serialize());this.D.log(b);this.D.H()};function Mge(a){this.D=a}Mge.prototype.C=function(a){var b=new iZc;jZc(b,a.serialize());this.D.log(b);return new Qe(function(a,b){this.D.flush(a,b)}.bind(this))};function Nge(a){this.D=a}Nge.prototype.C=function(a,b,c){pge(this.D).then(u(function(d){d?(new tyc(d.i7,"offline",null)).C(a,b,c):b()},this))};function Oge(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(Kt({id:"docs-offline-optinpromo-confirm-close",content:Us("Close")},c||b));return P(a+"</div></div>")};function Pge(a){E.call(this);this.cb=a||Cd();this.Ma=new Vk(this);this.Ba(this.Ma);this.C=new ct(a);this.C.Uz(!1);Un(this.C.D,!1);this.C.Nd("docs-offline-optinpromo");this.C.render();a=this.C.Qa();he(a,!0);Ek(a,"dialog");Fk(a,"labelledby","docs-offline-optinpromo-title");Fk(a,"describedby","docs-offline-optinpromo-description");this.Ba(this.C);this.L=new Lt(null);this.Ba(this.L);this.J=new Lt(null);this.Ba(this.J);this.H=new Lt(null);this.Ba(this.H);this.O=this.F=this.D=null;Qge(this,Rge)}w(Pge,E);
function Rge(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(Kt({id:"docs-offline-optinpromo-optin",content:Us("Turn on offline access"),style:2},b));a+=O(Kt({id:"docs-offline-optinpromo-decline",content:Us("No thanks"),style:0},b));return P(a+"</div>")}
function Qge(a,b){var c=N(b);a.C.setContent(c);switch(b){case Rge:a.Ma.V(a.C,"show",a.eub);b=a.cb.getElement("docs-offline-optinpromo-optin");a.L.Wa(b);a.Ma.Rc(a.L,"action",u(a.Nsb,a));b=a.cb.getElement("docs-offline-optinpromo-decline");a.J.Wa(b);a.Ma.Rc(a.J,"action",u(a.Sjb,a));a.D=a.cb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.cb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.cb.getElement("docs-offline-optinpromo-learn-more-container");a.Ma.V(a.D,"click",u(a.DNa,
a,!0)).V(a.F,"click",u(a.DNa,a,!1));break;case Oge:b=a.cb.getElement("docs-offline-optinpromo-confirm-close");a.H.Wa(b);a.Ma.Rc(a.H,"action",u(a.show,a,!1));a.C.Qa().focus();break;default:throw Error("Cannot handle state "+b);}a.cb.getElement("docs-offline-optinpromo-title");a.cb.getElement("docs-offline-optinpromo-description")}p=Pge.prototype;p.DNa=function(a){K(this.D,!a);K(this.F,a);K(this.O,a);(a?this.F:this.D).focus();return!1};p.Nsb=function(){this.dispatchEvent(new D("tg"))};p.Sjb=function(){this.dispatchEvent(new D("ug"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("vg"))};p.eub=function(){this.C.Qa().focus();this.dispatchEvent(new D("sg"))};function Sge(a,b){this.L=a;this.H=b}function Tge(a){return Uge(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new q5;G(a,1,1);return a},a.J.bind(a))}Sge.prototype.J=function(a){if(a instanceof q5)return a;if(a instanceof Error)throw a;throw Error(a);};
function Uge(a){var b=new q5;return a.L.get().then(function(a){var c=a.C;switch(c){case 3:case 2:return Se();case 4:return G(b,1,3),G(b,2,a.D),Te(b);case 1:return G(b,1,2),Te(b);case 5:return G(b,1,4),Te(b);default:throw Error("Unexpected enabled state: "+c);}})}Sge.prototype.D=function(){return(new Qe(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return Se();a=new q5;G(a,1,5);return Te(a)})};Sge.prototype.C=function(){if(mr())return Se();var a=new q5;G(a,1,6);return Te(a)};
Sge.prototype.F=function(){var a=jh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Qe(function(b,c){Wab(function(d,e){e>a?b():(d=new q5,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function Vge(a,b,c){this.C=a;this.D=c||null};function Wge(a,b){this.C=a;this.Xa=b}Wge.prototype.get=function(){return pge(this.C).then(function(a){return a?new Vge(1,a.jM.getId(),a.jM.aF(),Xge(this)):nge(this.C).then(function(a){return(new Qe(function(b,d){ZHa(a.eP(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new Vge(4,a.getId(),a.aF());else throw Error("More than one user in store: "+a.length);else a=ege()?new Vge(2):$Ka()?new Vge(5):new Vge(3);return a}.bind(this))}.bind(this))}.bind(this))};
function Xge(a){a=new Ebb(a.Xa);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new vx("metadata-sync",0,!0,new ux(1,Mo(),xx("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new vx("service-worker-update",0,!0,new ux(2,Dya(),xx("service_worker_update"),3E5,!0,!1)),g9a());I(b,"docs-offline-edswut")&&d.push(new vx("drive-service-worker",0,!0,new ux(2,Eya(kh(H(),"drdn"),"/drive/serviceworker/update",!0),xx("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new vx("homescreen-cello-sync",jh(H(),"docs-offline-scstpim"),!0,new ux(2,Eya(fo(la.location.href),"/document/backgroundsync"),new wx,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new vx("drive-cello-sync",jh(H(),"docs-offline-scstpim"),!0,new ux(2,Eya(kh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new wx,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new vx("local-changes-sync",0,!1,new ux(1,Mo(),xx("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new vx("auto-sync",jh(H(),"docs-offline-sastpim"),!1,new ux(1,Mo(),xx("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new vx("webfonts-sync",0,!0,new ux(1,Mo(),xx("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new vx("impression-sync",0,!1,new ux(1,Mo(),xx("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new vx("document-deletion",0,!1,new ux(1,Mo(),xx("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new vx("update-unsaved-changes",
0,!1,new ux(2,Dya(),xx("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new vx("cleanup-task",0,!1,new ux(2,Dya(),xx("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new vx("report-task",0,!1,new ux(2,Dya(),xx("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new vx("kix-snapshot",0,!1,new ux(1,Eya(fo(la.location.href),"/document/snapshot.js"),new wx,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new vx("sync-objects-sync",0,!0,new ux(1,Mo(),xx("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=lbb(a,b[d].getId()),!c||!qf(c,5,!1))return!1;return!0};function Yge(a){this.C=a}function Zge(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Ea()});a.C.setItem("optInLog",Lo(c))}function $ge(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new Yge(a)};function ahe(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function bhe(a){return nge(a.H).then(function(a){return che(this,a).then(function(){var b=qNa();if(!b)throw Error("Missing user info for enabling offline in flags.");return dhe(this,a,b)}.bind(this))}.bind(a)).then(function(a){return ehe(this,a)}.bind(a))}function che(a,b){return(new Qe(function(a,d){ZHa(b.eP(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function dhe(a,b,c){var d=new ZEa(F(c,1),!0);$Ea(d,c.aF());aFa(d,F(c,3));bFa(d,!!F(c,4));cFa(d,!!F(c,6));dq(d,"optInReasons",a.C);return(new Qe(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function ehe(a,b){Zge($ge(),b.aF()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new yr;var c=new vKa;hga(b,Ar,c);LKa(a.F,b);b=new sr;var d=new rNa(b);return xJa(b).then(function(){return new Qe(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=sNa(),c=new iwa;this.C[0]&&G(c,1,UHa(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.yz(81E3,0);b=tT(a);xf(b,34,c);this.D.zz(a)}.bind(a))};function fhe(a,b,c,d,e,f,h){z.call(this);this.cb=h||Cd();this.D=a;this.Xa=b;this.H=c;this.fb=d;a=new yNa;this.Ba(a);this.F=new Br(a,Mr());this.Ba(this.F);this.La=new Nr(this.F,Mr(),this);this.Ba(this.La);this.Da=new Nr(this.F,null,this);this.Ba(this.Da);this.L=new lge(this.Xa,this.F,e,"OfflinePromoControllerLockSessionId");this.Ba(this.L);e=new Wge(this.L,this.Xa);a=new sr;this.$a=new Sge(e,new rNa(a));e=this.L;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=kh(b,"gaia_session_id");
a=new J7c(306,b||null,a,!(Aa(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new Mge(a);e=C.product.mf&&ZLa&&(wNa()||xNa())?new Nge(e):new syc;e=new qyc(b,null,e);a=new Lge(a);b=xMa();e=jyc(iyc(dge(gyc(fyc(new eyc,e),a)),b),84).build();a=cyc(e.dC());b=(new pyc(!1)).get();a.H=b;this.Oa=e;this.Oa.lG();this.Ra=Tr(this.cb);this.C=null;this.Ma=new Vk(this);this.Ba(this.Ma);this.R=new Jp;this.Ba(this.R);this.ma=new im(this.wnb,6E4,this);this.Ba(this.ma);this.Sa=!1;this.oa=this.J=null;
this.Ga=gr.getInstance();this.O=this.Ua=!1;this.Aa=C.product.mf&&C.product.Cg("56.0.2924.87");this.Na=!1;this.Ya=f}w(fhe,z);p=fhe.prototype;p.init=function(){var a=this;mr()&&(ghe(this),hhe(this),r5(this).then(function(){ihe(a)},function(b){a.Xa.Uc(ze(b))}))};function ihe(a){a.F.connect();Kp(a.R,a.D.AJ(),function(){a.ma.start();r5(a)});Kp(a.R,a.D.CJ(),function(){a.ma.stop();ghe(a);hhe(a);r5(a)});a.Ma.V(a.Ra,"change",a.X3a);a.La.V(Ar,a.W3a);a.Da.V(Ar,a.V3a).V(zKa,a.Qfb)}
function r5(a){return Tge(a.$a).then(function(b){var c=1==b.hq(),d=a.D.Mh(),e;if(!(e=a.O)&&(e=!ege())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.Aa&&e)&&!(c=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Ua||(h?a.C||(a.C=new Pge(a.cb),a.Ba(a.C),a.Ma.V(a.C,"tg",a.Osb).V(a.C,"ug",a.Ksb).V(a.C,"vg",a.g2a),a.C.show(!0),jhe(a)):a.C&&a.C.show(!1));if(a.fb)if(2==b.hq()||d||h)khe(a);else if(a.oa&&!Bf(b,
a.oa)&&khe(a),null==a.J){d=lhe(b);if(!a.Na)switch(b.hq()){case 1:break;case 3:mhe(a,"Offline ineligible, other user enabled");break;case 7:mhe(a,"Offline ineligible, insufficient disk space");break;case 5:mhe(a,"Offline ineligible, policy disallows");break;case 6:mhe(a,"Offline ineligible, no extension");break;case 4:mhe(a,"Offline ineligible, invalid db state");break;default:mhe(a,"Offline ineligible, unknown reason")}b=1==b.hq()&&a.Aa?jr(d,"Turn on...",a.Dub.bind(a),"info",!1):ir(d,"info",!1);a.J=
a.Ga.postMessage(b)}})}p.wnb=function(){ZKa()||fge(!0)};
p.Psb=function(){if(this.D.Mh()){var a=kh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q($s("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=JRa("Your documents are syncing",Hs(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.cb);J(b.Sq(),"docs-offline-welcomepromo-bg");this.Ba(b);this.C&&this.C.show(!1)}else this.Ua=!0,Qge(this.C,Oge);r5(this)};p.W3a=function(){r5(this)};p.V3a=function(){r5(this)};p.Qfb=function(){this.O=!1;r5(this)};p.Msb=function(a){this.Xa.Uc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=ju(this.Ya,"Turning on offline access failed. Please try again later.",this.cb);a.D=!0;a.render();a.setVisible(!0);this.Ba(a)};
p.Osb=function(){this.H.C(2054);fge(!1);bhe(new ahe(this.L,this.F,this.Oa)).then(u(this.Psb,this),u(this.Msb,this))};p.Ksb=function(){this.D.Mh()?this.H.C(2055):hge(!0);fge(!1);la.localStorage.setItem("docs-urop","true");this.O=!1;r5(this);var a=new yr,b=new yKa;hga(a,zKa,b);LKa(this.F,a)};
function lhe(a){switch(a.hq()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(F(a,2)+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function mhe(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";fp(a.Xa,Error("Offline editing disabled: "+b),c);a.Na=!0}function khe(a){null!=a.J&&(hr(a.Ga,a.J),a.J=null,a.oa=null)}p.Dub=function(){this.O=!0;r5(this)};p.X3a=function(){jhe(this)};p.g2a=function(){A(this.C);this.C=null};function jhe(a){!a.Sa&&a.C&&"hidden"!=a.Ra.getState()&&(a.D.Mh()?a.H.C(2847):gge(!0),a.Sa=!0)}
function ghe(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Mh()&&(gge(!1),a.H.C(2847))}function hhe(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Mh()&&(hge(!1),a.H.C(2055))};function nhe(a,b,c,d){z.call(this);this.C=a;this.Ga=c;this.Xa=d;this.F=new Jp;this.Ba(this.F);this.ma=new Nr(b,Mr(),this);this.Ba(this.ma);this.Ma=new Vk(this);this.Ba(this.Ma);this.H=Tr();this.R=this.L=this.J=!1;this.D=new im(this.oa,Math.floor(27E4*Math.random())+3E4,this);this.Ba(this.D);this.O=[]}r(nhe,z);nhe.prototype.init=function(){this.ma.V(Ar,this.Aa);this.O.push(new ohe("reload-after-opt-in","Reload to start editing even when offline.","docs-offline-reload-after-opt-in-butter-dismiss"))};
function phe(a){a.R||(Kp(a.F,a.C.AJ(),function(){return qhe(a)}),Kp(a.F,a.C.CJ(),function(){return qhe(a)}),a.Ma.V(a.H,"change",a.Da),a.R=!0)}nhe.prototype.Aa=function(){this.J||(this.J=!0,phe(this),I(H(),"docs-offline-eraoi")&&("visible"==this.H.getState()||this.D.yb()||this.D.start()),qhe(this))};function qhe(a){var b=!1;a.O.forEach(function(c){var d;if(d=!b){d=!1;switch(c.L){case "reload-after-opt-in":d=a.J&&a.C.Mh()}d=d&&!c.F}d?(rhe(c),b=!0):null!=c.C&&(hr(c.H,c.C),c.C=null)})}
nhe.prototype.oa=function(){this.L||!this.C.Mh()||Io(this.Ga.YO(),256)||(fp(this.Xa,Error("Session automatically reloaded following offline opt-in")),la.location.reload())};nhe.prototype.Da=function(){this.L||(this.L="visible"==this.H.getState()&&this.O.some(function(a){return null!=a.C}))};
function ohe(a,b,c){z.call(this);var d=this;this.L=a;this.J=b;this.F=!1;this.C=null;this.H=gr.getInstance();this.D=new we(c);this.Ba(this.D);this.D.setProperty("label","Dismiss");this.D.Pa(!0);this.D.xb(Oa,function(){d.F=!0})}r(ohe,z);function rhe(a){null==a.C&&(a.C=a.H.postMessage(jr(a.J,"Reload",function(){la.location.reload()},"info",!0,void 0,a.D)))};function she(a,b,c,d,e,f,h){z.call(this);this.D=b;this.J=Ve();the(this);this.F=this.H=null;this.O=a;this.C=c;this.Ma=new Vk(this);this.Ba(this.Ma);this.L=new Jp;this.Ba(this.L);this.R=d;this.ma=e;this.Aa=f;this.oa=h}w(she,z);p=she.prototype;p.start=function(){var a=this;uhe(this.D).then(function(b){b.connect();a.J.resolve(b);return vhe(a)}).then(function(){Kp(a.L,a.O.CJ(),function(){whe(a)})},function(b){b=ze(b);a.C.F.resolve(b)})};
function Jge(a){if(2!=a.C.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.C);zge(a.C,4);return xhe(a.D,10).then(function(a){var b=a.hq();return Se().then(function(){return 1==b||2==b?s5(this,1):s5(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.cB=function(){return this.D.cB()};
function vhe(a){return a.D.H().then(function(b){switch(F(b,1)){case 1:return yhe(a.D).then(function(){return s5(this,1)}.bind(a)).then(function(){whe(this)}.bind(a));case 2:return s5(a,2);case 4:return zhe(a,F(b,2));case 3:return b=F(b,3),null!=b?Ahe(a,b):s5(a,2);case 5:return Bhe(a)}})}p.Czb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&Xe(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("rg")}.bind(this)),ba().bind(this))};function zhe(a){return s5(a,2)}
function Ahe(a,b){return a.ma?xhe(a.D,b).then(function(a){switch(a.hq()){case 1:return s5(this,1);case 2:return s5(this,1);default:return s5(this,2)}}.bind(a)):Se()}function Bhe(a){return a.Aa?xhe(a.D,2).then(function(a){switch(a.hq()){case 1:case 2:return s5(this,1);default:return s5(this,2)}}.bind(a)):Se()}
function the(a){a.J.C.then(function(a){this.H=new Nr(a,"user_"+this.R,this);this.Ba(this.H);this.F=new Nr(a,null,this);this.Ba(this.F);this.H.V(Ar,this.Z3a).V(xKa,this.$rb).V(BKa,this.Czb);this.F.V(Ar,this.Y3a).V(xKa,this.Pfb)}.bind(a))}p.Z3a=function(){Xe(s5(this,1),ba().bind(this))};p.$rb=function(){Xe(s5(this,2),ba().bind(this))};p.Y3a=function(){Che(this)};p.Pfb=function(){Che(this)};
function s5(a,b){return a.cB().then(function(a){zge(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("rg")}.bind(this))}.bind(a)).then(ba().bind(a))}function Che(a){a.cB().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("rg")}.bind(a))}function whe(a){a.oa&&1==a.C.C&&Xe(Dhe(a.D),ba().bind(a))};function Ehe(a){this.D=a}Ehe.prototype.C=g("D");function t5(a){nf(this,a,0,-1,null,null)}w(t5,mf);t5.prototype.getType=function(){return F(this,1)};t5.prototype.setType=function(a){G(this,1,a)};function Fhe(a){nf(this,a,0,-1,null,null)}w(Fhe,mf);Fhe.prototype.getType=function(){return F(this,1)};Fhe.prototype.setType=function(a){G(this,1,a)};Fhe.prototype.uJ=function(){return vf(this,Ghe,2)};function Ghe(a){nf(this,a,0,-1,null,null)}w(Ghe,mf);Ghe.prototype.getType=function(){return F(this,1)};Ghe.prototype.setType=function(a){G(this,1,a)};
Ghe.prototype.getErrorMessage=function(){return F(this,2)};function Hhe(a){nf(this,a,0,-1,Ihe,null)}w(Hhe,mf);var Ihe=[1];function Jhe(a){nf(this,a,0,-1,Khe,null)}w(Jhe,mf);var Khe=[1];function Lhe(a){nf(this,a,0,-1,null,null)}w(Lhe,mf);Lhe.prototype.H=function(){return vf(this,ige,1)};function Mhe(a){nf(this,a,0,-1,null,null)}w(Mhe,mf);Mhe.prototype.cB=function(){return vf(this,q5,1)};function Nhe(a){nf(this,a,0,-1,null,null)}w(Nhe,mf);function Ohe(a){nf(this,a,0,-1,null,null)}w(Ohe,mf);
Ohe.prototype.cB=function(){return vf(this,q5,1)};function Phe(a){nf(this,a,0,-1,null,null)}w(Phe,mf);Phe.prototype.getId=function(){return F(this,1)};Phe.prototype.Ze=function(a){G(this,1,a)};Phe.prototype.getTitle=function(){return F(this,2)};Phe.prototype.eq=function(){return F(this,3)};function Qhe(a){nf(this,a,0,-1,Rhe,null)}w(Qhe,mf);var Rhe=[1];function She(a,b,c,d){z.call(this);this.F=Ve();this.cb=d||Cd();this.Ma=new Vk(this);this.Ba(this.Ma);this.J=a;a=new ro(b);a.jc("ouid",this.J);Fya()&&a.jc("Debug","true");yo(a,"cd="+c);if(Jb(a.C))throw Error("Url contains invalid domain: "+b);this.L=uo(to(so(new ro,a.H),a.C),a.J).toString();this.C=this.cb.Ea("IFRAME",{style:"display:none"});Vca(this.C,qr(a.toString()));this.Ma.V(pe(this.cb),"message",this.O);this.cb.wb().body.appendChild(this.C);this.D=!1}w(She,z);
function uhe(a){var b=new t5;b.setType(1);return u5(a,b).then(function(a){a=new Br(new Ehe(a.port),"user_"+this.J);this.Ba(a);return a}.bind(a))}function wge(a,b){var c=new t5;c.setType(2);var d=new Hhe;G(d,1,b||[]);xf(c,2,d);return u5(a,c).then(function(a){return wf(vf(a.response,Jhe,3),Phe,1)}.bind(a))}She.prototype.H=function(){var a=new t5;a.setType(4);return u5(this,a).then(function(a){return vf(a.response,Lhe,4).H()}.bind(this))};
She.prototype.cB=function(){var a=new t5;a.setType(10);return u5(this,a).then(function(a){return vf(a.response,Mhe,7).cB()}.bind(this))};function Hge(a,b,c){var d=new t5;d.setType(5);var e=new Qhe;yf(e,1,b);G(e,2,c);xf(d,3,e);return u5(a,d).then(ba())}function xhe(a,b){var c=new t5;c.setType(6);var d=new Nhe;G(d,1,b);xf(c,4,d);return u5(a,c).then(function(a){return vf(a.response,Ohe,5).cB()})}function yhe(a){var b=new t5;b.setType(9);return u5(a,b).then(ba())}
function Dhe(a){var b=new t5;b.setType(11);return u5(a,b).then(ba())}
function u5(a,b){return a.F.C.then(function(a){var c=Ea(),e=new MessageChannel;a.postMessage(b.Tf(),[e.port2]);var f=Ve();e.port1.onmessage=u(function(a){a=new The(a);a.response&&a.response.uJ()?(a=a.response.uJ(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=fm(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Ea()-c)+"ms."))},ma(void 0)?void 0:3E4);We(f.C,function(){e.port1.close();
gm(h)});return f.C}.bind(a))}She.prototype.O=function(a){(a=a.ye)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],wb(this,a.close,a),this.F.resolve(a),this.D=!0),A(this.Ma))};She.prototype.Ia=function(){this.cb.Af(this.C);She.qa.Ia.call(this)};function The(a){this.response=a.data?new Fhe(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function Uhe(a,b,c,d,e,f,h,k,l,m){var q=this;z.call(this);var t=H();this.F=kh(t,"docs-offline-lsuid");this.J=new yNa;this.C=new Br(this.J,Mr());this.Ba(this.C);this.C.connect();this.H=h;this.Xa=b;var v=I(t,"docs-offline-eeooip");if(v||I(t,"docs-offline-eraoi")){var y=new nhe(a,this.C,e.C,b);this.Ba(y);y.init()}v&&(b=new fhe(a,b,c,d,h,l,m),this.Ba(b),b.init());this.D=new xge;this.Ba(this.D);var B=I(t,"docs-offline-eiedp")&&(!I(t,"docs-isd")||I(t,"docs-offline-esdp")),L=I(t,"docs-offline-eiecr");Vhe(this,
B,L).then(function(b){if(b){b=Cya("/iframeapi",void 0);b=new She(q.F,b,1);q.Ba(b);var c=new she(a,b,q.D,q.F,!1,L,!1);q.Ba(c);c.start();if(B){var d=new sge(e.F,b,q.C,q.Xa);q.Ba(d);d.start();b=new Bge(e,f,b,d,q.D,k,c,q.Xa,l);q.Ba(b);b.init()}}})}w(Uhe,z);function Vhe(a,b,c){return b?Se(!0):c?(b=new lge(a.Xa,a.C,a.H,"EditorOfflineControllerLockSessionId"),a.Ba(b),(new Wge(b,a.Xa)).get().then(function(a){return 5==a.C})):Se(!1)};function Whe(){z.call(this)}w(Whe,jE);Whe.prototype.C=function(a,b,c,d,e,f,h,k,l){return new Uhe(a,b,c,!0,d,e,f,h,k,l)};pE("offline",Whe);
